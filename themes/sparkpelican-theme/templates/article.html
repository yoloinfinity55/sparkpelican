{% extends "base.html" %}

{% block title %}{{ article.title }} - {{ SITENAME }}{% endblock %}

{% block content %}
<article class="bg-white rounded-lg shadow-md p-8">
    {% if article.image %}
        {% if article.image.startswith('https://i.ytimg.com') or article.image.startswith('https://img.youtube.com') %}
        <!-- YouTube thumbnail detected - embed video instead of showing image -->
        <div class="video-container mb-8" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
            <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/{{ article.image | youtube_video_id }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        {% else %}
        <div class="m-8 mt-8">
            <img src='{{ article.image | raw_url }}' alt='{{ article.title | e }}' class="rounded-lg w-full h-auto object-contain mx-auto shadow-sm">
        </div>
        {% endif %}
    {% else %}
    <div class="m-8 mt-8">
        <img src='https://picsum.photos/seed/{{ article.slug }}/800/600' alt='Default cover image' class="rounded-lg w-full h-auto object-contain mx-auto shadow-sm">
    </div>
    {% endif %}
    <div class="p-8">
        <header class="mb-8">
        <h1 class="text-4xl font-bold mb-4">{{ article.title }}</h1>
        <div class="text-gray-600">
            <time datetime="{{ article.date.isoformat() }}">{{ article.locale_date }}</time>
            {% if article.category %}
            <span class="mx-2">â€¢</span>
            <span>{{ article.category }}</span>
            {% endif %}
        </div>
    </header>
    
    <div class="article-content prose max-w-none">
        {{ article.content }}
    </div>
</article>
{% endblock %}
